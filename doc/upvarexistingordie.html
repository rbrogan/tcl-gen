<!DOCTYPE html>
<html>
<head>
<title>UpvarExistingOrDie</title>
<link rel="stylesheet" type="text/css" href="doc.css">
<body>
<div class="section_header">
NAME
</div>
<div class="section_content">
UpvarExistingOrDie  &mdash;  Do upvar if variable exists, else generate error.
</div>
<div class="section_header">
SYNOPSIS
</div>
<div class="section_content">
<b>UpvarExistingOrDie</b> <i>VarName</i> <i>Var</i>
</div>
<div class="section_header">
DESCRIPTION
</div>
<div class="section_content">
<div class='subsection_header'>Return Value</div>
<div class='subsection_content'>
None (empty string).</div><div class='subsection_header'>Arguments</div><div class='subsection_content'><table class='argument_table'><tr class='table_row_b'><td class='argument_left'><i>VarName</i></td><td class='argument_right'>Name of variable to check for and upvar (same as first argument to upvar).</td></tr><tr class='table_row_a'><td class='argument_left'><i>Var</i></td><td class='argument_right'>Name of variable after upvar (same as second argument to upvar).</td></tr></table></div><div class = 'subsection_header'>Error Conditions</div>
<div class= 'subsection_content'>
<table>
<tr>
<th>Condition</th><th>Error Code</th><th>Error Message</th></tr>
<tr><td>Input variable not found in caller.</td>
<td class="error_code">-1</td>
<td>Could not find variable $VarName in caller.</td>
</tr>
<tr><td>Local name for variable is empty string.</td>
<td class="error_code">-10</td>
<td>Second argument is missing. Got empty string.</td>
</tr>
<tr><td>Got empty string instead of variable name.</td>
<td class="error_code">-3</td>
<td>Variable name is missing. Got empty string.</td>
</tr>
</table>
</div><div class = 'subsection_header'>More Info</div><div class= 'subsection_content'>The way upvar works, it will automatically create a variable if it does not exist. If this is not desired, you can use this command to check for an expected variable and if it is not there then generate an error.</div>
</div>
<div class="section_header">
EXAMPLES
</div>
<div class="section_content">
<p>The following code creates a proc that relies on variable existing. When it does not exist, UpvarExistingOrDie will create an error.</p><div class="code_sample"><pre>proc MyPrintVar {VarName} {<br>     <b>UpvarExistingOrDie $VarName Var</b><br>     puts "$VarName = $Var"<br>}</pre></div><div class="code_sample"><pre>% set abc 123<br>% MyPrintVar abc<br>abc = 123<br>% unset abc<br>% MyPrintVar abc<br>Could not find variable abc.<br></pre></div>
<div class="section_header" >
SEE ALSO
</div>
<div class="section_content" >
<a href = 'upvarx.html'>UpvarX</a>, <a href = 'varexistsincaller.html'>VarExistsInCaller</a>
</div>
<div class="section_header" >
KEYWORDS
</div>
<div class="section_content" >
<a href="keyword-index.html#C_check">check</a>, <a href="keyword-index.html#C_variable">variable</a>, <a href="keyword-index.html#C_verification">verification</a>
</div>
</body>
</html>
