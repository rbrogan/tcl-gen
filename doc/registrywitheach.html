<!DOCTYPE html>
<html>
<head>
<title>RegistryWithEach</title>
<link rel="stylesheet" type="text/css" href="doc.css">
<body>
<div class="section_header">
NAME
</div>
<div class="section_content">
RegistryWithEach  &mdash;  Execute script with registry values mapped to Tcl variables.
</div>
<div class="section_header">
SYNOPSIS
</div>
<div class="section_content">
<b>RegistryWithEach</b> <i>RegistryKeyPath</i> <i>Body</i> <i>?SubkeyHandlingOption?</i>
</div>
<div class="section_header">
DESCRIPTION
</div>
<div class="section_content">
<div class='subsection_header'>Return Value</div>
<div class='subsection_content'>
None.</div><div class='subsection_header'>Arguments</div><div class='subsection_content'><table class='argument_table'><tr class='table_row_b'><td class='argument_left'><i>RegistryKeyPath</i></td><td class='argument_right'>Registry key path to start from.</td></tr><tr class='table_row_a'><td class='argument_left'><i>Body</i></td><td class='argument_right'>Script to execute for each subkey.</td></tr><tr class='table_row_b'><td class='argument_left'><i>SubkeyHandlingOption</i></td><td class='argument_right'>Tell whether to process subkeys or no. Defaults to values only.</td></tr></table></div><div class = 'subsection_header'>More Info</div><div class= 'subsection_content'>This command is for when you have a key with some subkeys and all the subkeys have the same structure (same key and value names). The key more-or-less contains a set of records. <code>RegistryWithEach</code> will iterate over each subkey, map all the registry values into Tcl variables, and then run the script.<p>Note that this command will create a variable <code>RegistryWithEach_Subkey</code> in its caller. This variable can be accessed in the script body, if desired, to find out the name of the key (i.e. for instances where the key name is like a record ID).</p><p>To handle keys, we have the following two options:<br>
1. <code>--values-only</code> : Default option. Do not process subkeys. Iterate over values only.<br>
2. <code>--subkeys-dicts</code> : Iterate over subkeys and set value data to be the dict returned from calling <code>RegistryTree2Dict</code>, using the subkey as argument.<br></p><p></p></div>
</div>
<div class="section_header">
EXAMPLES
</div>
<div class="section_content">
<div class="code_sample"><pre>% registry set HKEY_CURRENT_USER\Software\My\RegistryWithEachTests\1 aa 11<br>% registry set HKEY_CURRENT_USER\Software\My\RegistryWithEachTests\1 bb 22<br>% registry set HKEY_CURRENT_USER\Software\My\RegistryWithEachTests\2 aa 33<br>% registry set HKEY_CURRENT_USER\Software\My\RegistryWithEachTests\2 bb 44<br>% registry set HKEY_CURRENT_USER\Software\My\RegistryWithEachTests\3 aa 55<br>% registry set HKEY_CURRENT_USER\Software\My\RegistryWithEachTests\3 bb 66<br>% RegistryWithEach HKEY_CURRENT_USER\Software\My\RegistryWithEachTests {puts "$aa | $bb"}<br>11 | 22<br>33 | 44<br>55 | 66<br></pre></div>
<div class="section_header" >
SEE ALSO
</div>
<div class="section_content" >
<a href = 'registryforeach.html'>RegistryForEach</a>
</div>
<div class="section_header" >
KEYWORDS
</div>
<div class="section_content" >
<a href="keyword-index.html#C_control">control</a>, <a href="keyword-index.html#C_loop">loop</a>, <a href="keyword-index.html#C_registry">registry</a>
</div>
</body>
</html>
