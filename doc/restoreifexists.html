<!DOCTYPE html>
<html>
<head>
<title>RestoreIfExists</title>
<link rel="stylesheet" type="text/css" href="doc.css">
<body>
<div class="section_header">
NAME
</div>
<div class="section_content">
RestoreIfExists  &mdash;  Replace file with backup, if one can be found.
</div>
<div class="section_header">
SYNOPSIS
</div>
<div class="section_content">
<b>RestoreIfExists</b> <i>FilePathValue</i> <i>?Extension?</i>
</div>
<div class="section_header">
DESCRIPTION
</div>
<div class="section_content">
<div class='subsection_header'>Return Value</div>
<div class='subsection_content'>
<table class='argument_table'><tr><td class='argument_left'><i>1</i></td><td class='argument_right'> Did do a restore.</td></tr>
<tr><td class='argument_left'><i>0</i></td><td class='argument_right'> Did not do a restore.</td></tr>
</table></div><div class='subsection_header'>Arguments</div><div class='subsection_content'><table class='argument_table'><tr class='table_row_b'><td class='argument_left'><i>FilePathValue</i></td><td class='argument_right'>File path of original, without the .bak extension.</td></tr><tr class='table_row_a'><td class='argument_left'><i>Extension</i></td><td class='argument_right'>Optional. Name of the extension the backup version should have. Defaults to bak.</td></tr></table></div><div class = 'subsection_header'>More Info</div><div class= 'subsection_content'>Checks to see if a backup file for the given file exists. If it does, then this command makes a copy from that, taking away the .bak ending. <code>RestoreIfExists my.txt</code> will look for a file called <code>my.txt.bak</code>, and if it finds one then it will copy from that to <code>my.txt</code>.<p>Again, note that "IfExists" here refers to the version with the extension (and not the original). So, if you have <code>foo.txt</code>, back it up as <code>foo.txt.bak</code>, and delete the original, then <code>RestoreIfExists foo.txt</code> will create <code>foo.txt</code>. On the other hand, if you have <code>foo.txt</code> and do not back it up (so there is no such file as <code>foo.txt.bak</code>) and then you call <code>RestoreIfExists foo.txt</code>, it will not be an error but rather it will do nothing and return zero.</p><p>This command is meant to be paired with <a href='backupifexists.html'>BackupIfExists</a> to make for a very primitive, "one version only" backup mechanism to use with applications.
</p></div>
<br>
For information regarding exceptions / errors, see <a href="restoreifexists-exceptions.html">here</a>.
</div>
<div class="section_header">
EXAMPLES
</div>
<div class="section_content">
<div class="code_sample"><pre>% String2File "First" test.txt<br>% BackupIfExists test.txt<br>Copying test.txt to test.txt.bak<br>        1 file(s) copied.<br>% String2File "Second" test.txt<br>% cat test.txt<br>Second<br>% RestoreIfExists test.txt<br>Copying test.txt.bak to test.txt<br>        1 file(s) copied.<br>% cat test.txt<br>First<br></pre></div>
<div class="section_header" >
SEE ALSO
</div>
<div class="section_content" >
<a href = 'backupifexists.html'>BackupIfExists</a>, <a href = 'http://www.tcl.tk/man/tcl8.6/TclCmd/file.htm'>file</a>
</div>
<div class="section_header" >
KEYWORDS
</div>
<div class="section_content" >
<a href="keyword-index.html#C_file">file</a>
</div>
</body>
</html>
