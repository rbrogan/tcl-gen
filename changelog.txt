Gen

CHANGELOG

2015.12.28
v1.10.3

Changes by functionality
     CN_0003
          Added tests to test suite for Partial Loading feature. Updated loading module and config code to include support for a special test mode to support these tests. (Fix for KI_0006.) 
          Added try command as a dependency for commands that use it. (Fix for KI_0007.)

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          known-issues.html
               Add new issues.
               Update with latest fixes.
          latest-fixes.html
               Add latest fixes.
               
     /src
          gen-config.tcl
               Added variable for special test mode.
          gen.tcl
               Changed the rev.
          gentestcommand1.tcl
          gentestcommand2.tcl
          gentestcommand3.tcl
               Added these files to support test cases for Partial Loading feature.
          loading-module.tcl
               Added comments.
               Added special test code to prevent display of messages to user when test code fails intentionally as part of negative tests.
          loading-module-data.tcl
               Added special packages and commands for test purposes.
               Added try command as dependency for several commands.
          pkgIndex.tcl
               Changed the rev.
               
     /test
          *.test
               Update the rev number.
          gentestcommand1.test
          gentestcommand2.test
          gentestcommand3.test
               New files.
               Used for testing Partial Loading feature.
          pkgIndex.tcl
               Updated to include the package used to test the Partial Loading feature.
          test-loading-module-package.tcl
               New file.
               Used for testing Partial Loading feature.

               
2015.12.14
v1.10.2

Changes by functionality
     CN_0002
          Updated loading-module-data.tcl to include try command in various entries. (Fix for KI_0003.)
          Added test constraint that all the dependencies of the command must be loaded, and, if not, then the command is skipped. (Fix for KI_0004.)
          Put in data files for CopyEverythingInDirectory tests. (Fix for KI_0005.)

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          known-issues.html
               Add new issues.
               Update with latest fixes.
          latest-fixes.html
               Add latest fixes.
               
     /src
          gen.tcl
               Change version number and make sure it has the rev.
          loading-module-data.tcl
               Updated to include the try command as dependency.
          pkgIndex.tcl
               Changed the rev.
               
     /test
          *.test
               Update the rev number.
               Added call to source gen-test-common.tcl.
               Added test constraint that all the dependencies of the command must be loaded, and if not then the command is skipped.
          gen-test-common.tcl
               New file.
               Contains commands to check if all dependencies of a command are loaded. Also contains command to check if individual commands are loaded.
          /CopyEverythingInDirectory
               Added missing files.               

2015.12.07
v1.10.1

Changes by functionality
     CN_0001
          Take out attempts to load unreleased commands. (Fix for KI_0001.)
          Reduce sqlite version requirement. (Partial fix for KI_0002.)

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          known-issues.html
               Add new issues.
          latest-fixes.html
               Add latest fixes.

     /src
          copyallfilesintodirectory.tcl
               Removed (extraneous).
          deleteonlyfilesindirectory.tcl
               Removed (extraneous).
          loading-module-data.tcl
               Take out references to unreleased commands (CN_0001 / KI_0001).
               Reduce sqlite version requirement (CN_0001 / KI_0002).
          
          
2015.11.16
v1.10.0

Changes by functionality
     Monthly release of new commands, with corresponding files in test and doc
directories.
     Update the Partial Loading feature.
     Add Gen namespacing option.

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Updated Recent Changes section.
               Updated Dependencies section.
          README.txt
               Updated Recent Changes section.
               Updated Dependencies section.
          roadmap.html
               Update with info for next release.
               
     /doc
          Added a main and an exception page for each new command:
               currenttimeofdayisabout.html, currenttimeofdayisabout-exceptions.html
               currenttimeofdayisafter.html, currenttimeofdayisafter-exceptions.html
               currenttimeofdayisatorafter.html, currenttimeofdayisatorafter-exceptions.html
               currenttimeofdayisatorbefore.html, currenttimeofdayisatorbefore-exceptions.html
               currenttimeofdayisbefore.html, currenttimeofdayisbefore-exceptions.html
               currenttimeofdayisbetween.html, currenttimeofdayisbetween-exceptions.html
          Updated index pages with the new version number.
          Updated index pages with new commands.
          
     /src
          Modified loading-module.tcl, changed namespace name, see NEWS for details.
          Updated loading-module-data.tcl to reformat and include new commands.
          New commands added:
               currenttimeofdayisabout.tcl
               currenttimeofdayisafter.tcl
               currenttimeofdayisatorafter.tcl
               currenttimeofdayisatorbefore.tcl
               currenttimeofdayisbefore.tcl
               currenttimeofdayisbetween.tcl
          gen.tcl
               Update call to DoLoading to use new namespace name.
can.
          pkgIndex.tcl
               Updated version.
          
     /test
          Added tests for new commands:
               currenttimeofdayisabout.test
               currenttimeofdayisafter.test
               currenttimeofdayisatorafter.test
               currenttimeofdayisatorbefore.test
               currenttimeofdayisbefore.test
               currenttimeofdayisbetween.test

2015.10.19
v1.9.0

Changes by functionality

By files

     /
          Added policies.html, known-issues.html, latest-fixes.html.
          Updated *.html to include menu links to the new HTML files.
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Updated Recent Changes section.
          README.txt
               Updated Recent Changes section.
          roadmap.html
               Update with info for next release.
          wishlist.html
               Removed Partial Loading from the wishlist.
               
     /doc
          Added a main and an exception page for each new command:
               dateplus.html, dateplus-exceptions.html
               dateminus.html, dateminus-exceptions.html
               datetimeplus.html, datetimeplus-exceptions.html
               datetimeminus.html, datetimeminus-exceptions.html
          Updated index pages with the new version number.
          Updated index pages with new commands.
          Updated explanation of the Partial Loading feature.
          
     /src
          Added loading-module.tcl, which has code that loads every command it can, based
on what packages it finds on the user machine.
          Added loading-module-data.tcl, which has data used by the loading module.
          Changed the source files for each command back to how they were. The loading
module takes over that responsibility.
          New commands added:
               dateplus.tcl
               dateminus.tcl
               datetimeplus.tcl
               datetimeminus.tcl
          gen.tcl
               Took out calls to source each command individually.
               Make call out to GenLoadingNS::DoLoading to load every package and command it
can.
          pkgIndex.tcl
               Updated version.
          
     /test
          Added tests for new commands:
               dateplus.test
               dateminus.test
               datetimeplus.test
               datetimeminus.test

2015.09.21
v1.8.0

Changes by functionality

    Monthly release of new commands, with corresponding files in test and doc
directories.

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Update Recent Changes section.
          README.txt
               Update Recent Changes section.
          roadmap.html
               Update with info for next release.
     /doc
          Added main and exception pages for new commands.
          Added index pages with new version number.
          Updated index pages with new commands.
          Added new page to explain Partial Loading feature.
     /src
          Each command file has added code to load its dependencies and if they fail then
it will instead make the body throw an error that tells what packages failed to
load. It will also print a warning if GenNS::WarnOnFailureToLoadCommand is set
to 1.
          Added gen-error.tcl to hold error tables.
          Commands added.
          Internal commands added.
          gen.tcl
               Took out package requires.
               Moved error tables to gen-error.tcl.
               Revised sourcing code to check for failures to load packages and conditionally
put up a warning.
          pkgIndex.tcl
               Updated version.
          *.tcl
               Added a command for each file.
          
     /test
          Added tests for new commands.
          Added directory for CopyEverythingInDirectory test materials.
          Added directory for DeleteEverythingInDirectory test materials.

2015.09.12
v1.7.1

Changes by functionality

The error messages for some commands have had minor changes. All error that
involve a failure with an FTP operation have an "FTP: " prefix.

Content added to the exception pages.

(Limited) support for running FTP (upload) tests on other setups.

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Update Recent Changes section.
          README.txt
               Update Recent Changes section.
     /doc
          Added index pages with new version number.
          Put info into FTP exceptions pages.
          Change error messages that involve FTP operations to use "FTP: " prefix.
     /src
          ftpcleanremotedirectory.tcl
               Minor changes on error messages.
               Added check for success on deleting remote file.
          ftpdownloaddirectory.tcl
               Check for valid Policies at the start of the command.
               Minor changes on error messages.
          ftpdownloadsite.tcl
               Minor change to error message
          ftpmirrorlocaltoremote.tcl
               Minor change to error message
          ftpmirrorremotetolocal.tcl
               Minor change on error message
          ftpuploaddirectory.tcl
               Check for valid Policies at the start of the command.
               Minor changes on error messages.
          ftpwhichislarger.tcl
               Changed error message to include name of file.
          pkgIndex.tcl
               Updated version.
     /test
          lastid.test
               Make sure test table is cleared out first before starting test.
          runsqlcreate.test
               Make sure test table is cleared out first before starting test.
          ftp-test-config.tcl
               Updated to support other setups.
          ftp*.test
               Updated to match changes to ftp-test-config.tcl and minor changes to error
               messages.
          README-test-ftp.txt
          README-test-ftp.html
               Updated to include more info on setting up to run (upload) tests.
                         
2015.08.24
v1.7.0

The Run command has changed to save the pre-existing contents of ::argv and
restore them before exiting. It is unlikely this should break existing usage. If
this change does cause a bug then it means something somehow happened to use the
contents of ::argv that were left over from a call to Run. This is pretty
unlikely.

Changes by functionality

    Monthly release of new commands, with corresponding files in test and doc
directories.

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Update Recent Changes section.
               Added note that each command has its own file.
               Added notes about changes to source and documentation structure.
          README.txt
               Update Recent Changes section.
               Added note that each command has its own file.
               Added notes about changes to source and documentation structure.
          roadmap.html
               Update with info for next release.
     /doc
          Added pages for new commands.
          Added index pages with new version number.
          Updated index pages with new commands.
          Exceptions documentation page for each command.
          Every command page got an update moving any error table out to the exceptions
page and has a link to that page (and vice versa).
          Added exceptions-index.html page.
          Updated menu.html to include link to exceptions-index.html.
          For LinkVarToDbGlobal, LinkTclVariableToRegistryValue, UnlinkVarFromDbGlobal,
UnlinkTclVariableFromRegistryValue added note that currently only support global
variables.
          Moved tests for AddEpilogue and AddPrologue out from addepilogue.test and
addprologue.test into a separate file. In order to test these, you must run
addepilogue-test.tcl and addprologue-test.tcl manually.
     /src
          Note that Run was changed to save ::argv before using it and then restore ::argv
after done.
          Commands added.
          Internal commands added.
          gen.tcl
               Removed all code for commands out into their own separate files.
               Put in code to detect where package is located.
               Put in code to source each command file.
          pkgIndex.tcl
               Updated version.
          *.tcl
               Added a command for each file.
          
     /test
          Changed all tests to put the tests each inside a proc and then look at ::argv
and decide whether to run all tests or just certain tests. (This was useful for
FTP.)
          Added tests for new commands.
          For Run changed / added tests to make sure it saves/restore pre-existing ::argv.
          For LinkVarToDbGlobal, LinkTclVariableToRegistryValue, UnlinkVarFromDbGlobal,
UnlinkTclVariableFromRegistryValue -- changed these to strictly test for global
variables.
          Changes to how tests work, added the ability to use the Run command to run
individual tests.
          Made many changes to ftp-local and ftp-remote.
          
2015.08.10
v1.6.0

No changes break existing command usage.

Changes by functionality

    Monthly release of new commands, with corresponding files in test and doc
directories.

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Update Recent Changes section.
               Add FTP to dependencies.
               Add info about configuring.
               Add note about FTP testing.
          README.txt
               Update Recent Changes section.
               Add FTP to dependencies.
               Add info about configuring.
               Add note about FTP testing.
               Add gen-config to list of files.
          roadmap.html
               Updated with latest info.
          wishlist.html
               Put in footer suggesting to submit requests.
     /doc
          Added pages for new commands.
          Added index pages with new version number.
          Updated index pages with new commands.
          Added about-ftp-use.html.
     /src
          gen.tcl
               Commands added.
               Internal commands added.
               Package require for FTP.
               SetDbGlobal: change to use dict create.
          pkgIndex.tcl
               Updated version.
     /test
          Added tests for new commands.
          Changed all commands to require the exact version of Gen being tested.
          Added README-test-ftp.html.
          Added README-test-ftp.txt.
          Updated README-test.html, point to README-test-ftp.xxx.
          Updated README-test.txt, point to README-test-ftp.xxx.
          Added ftp-test-config.tcl.
          Added ftp-local and ftp-remote directories.


2015.07.27
v1.5.0

No changes break existing command usage.

Changes by functionality

    Monthly release of new commands, with corresponding files in test and doc
directories.

By files

     /
          changelog.html, changelog.txt
               Updated with latest info.
          news.html, news.txt
               Updated with latest info.
          README.html
               Update Recent Changes section.
          README.txt
               Update Recent Changes section.
          roadmap.html
               Updated with latest info.
          wishlist.html
               Put in footer suggesting to submit requests.
     /doc
          Added pages for new commands.
          Added index pages with new version number.
          Updated index pages with new commands.
          about-date-and-time-commands.html
               Fixed typo.
          coe.html
               Updated see also.
          sqlitecopytable.html
               Updated see also.
     /src
          gen.tcl
               Commands added.
               Added new error code.
               Simplified code for Run. Functionality is the same.
               Made sure string is escaped in DbaseRegsub.
          pkgIndex.tcl
               Updated version.
     /test
          Added tests for new commands.
          Changed all commands to require the exact version of Gen being tested.
          Added space for putting in test constraints.
          Check for Windows platform as test constraint for Windows Registry-related
tests.


2015.05.11
v1.4.3

No changes break existing command usage.

Changes by functionality

     Temporarily disabled some helpx-related elements while making changes.
     
Changes by files

     /
        changelog.html, changelog.txt
            Updated with latest info.
        news.html, news.txt
            Updated with latest info.
        README.html
            Modified DEPENDENCIES section.
        README.txt
            Modified DEPENDENCIES section.
          
     /doc
        helpx-cli-for-cli-based-help.html
            Modified to say helpx is temporarily unavailable.
            
     /src
          gen.tcl
               Removed code that loads helpx.
          pkgIndex.tcl
               Updated version.
               
2015.04.06
v1.4

No changes break existing command usage.

Changes by functionality

     Monthly release of new commands, with corresponding files in test and doc
directories.
     Moved configurable variables into separate config file.
     Added support for helpx-cli. Check for package, load if it exists, and register
documentation database.

By files

     /
        changelog.html, changelog.txt
            Updated with latest info.
        news.html, news.txt
            Updated with latest info.
        README.html
            Update Recent Changes section.
            Added DEPENDENCIES section.
        README.txt
            Update Recent Changes section.
            Added DEPENDENCIES section.
        roadmap.html
            Updated with latest info.
        *.txt
            Adjusted line lengths to be <= 80 characters.
        *.html
            Changed casing of README links.

     /doc
        Added pages for new commands.
        Updated index pages with version number.
        Updated index pages with new commands.
        helpx-cli-for-cli-based-help.html
            Help page with information about helpx-cli.
        Various documentation pages touched up, but without changes to the code.

     /src
        gen.tcl
            Commands added.
            Added check for helpx-cli and, if found, registration of database.
            Moved configuration out to file gen-config.tcl.
        pkgIndex.tcl
            Updated version.
            Added gen-config.tcl to list of files to source.
        gen-config.tcl
            Contains configurable variables.
        gen-helpx.db
            New file -- documentation database for use with helpx-cli.
            
    /test
        Added tests for new commands.


2015.03.02
v1.3

No changes break existing command usage.

Changes by functionality

     Monthly release of new commands, with corresponding files in test and doc
directories.

By files

     /
        changelog.html, changelog.txt
            Updated with latest info.
        news.html, news.txt
            Updated with latest info.
            Fix misprint in title.
        README.html
            Update Recent Changes section.
        README.txt
            Update Recent Changes section.
        roadmap.html
            Updated with latest info.
        wishlist.html
            Revised to remove items now on Roadmap or in the software.

     /doc
        Added pages for new commands.
        Updated index pages with version number.
        Updated Platform-specific and Dictionary Related index pages with new commands.
        Added About Registry Commands page.
        Changed wording of argument descriptions for Ter command.

     /src
        gen.tcl
            Commands added.
            New error code for when registry element not found.
        pkgIndex.tcl
            Updated version.
            
    /test
        Added tests for new commands.
                  
        
        
2015.02.01
v1.2

No changes break existing command usage.

Changes by functionality

    Monthly release of new commands, with corresponding files in test and doc
directories.
    Documentation now organized according to category, for ease-of-navigation.
    Added favicon to html pages.

By files

    /
        Added favicon.ico.
        All .html pages
            Added link to favicon.
        changelog.html, changelog.txt
            Updated with latest info.
        news.html, news.txt
            Updated with latest info.
        README.html
            Update Recent Changes section.
        README.txt
            Update Recent Changes section.
        roadmap.html
            Updated with latest info.
        wishlist.html
            Revised to remove items now on Roadmap.
    /src
        gen.tcl
            Commands added.
            Three config variables added to support date and time commands.
        pkgIndex.tcl
            Updated version.
    /test
        Added tests for new commands.
    /doc
        Added pages for new commands.
        Added index pages for each category.
        Added About Date and Time Commands page.

2015.01.04
v1.1

No changes break existing command usage.

By functionality
. Monthly release of new commands, with corresponding files in test and doc
directories.
. @ designator support: Several existing commands have been updated to allow
passing in the name of an in/out variable instead of a value. This should not
affect existing usage.
. Decr now supports taking an integer value as a second argument, which makes it
more consistent with incr.
. Updated test generator code (not included) and so tests have changed in
format.
. Added this CHANGELOG page and a NEWS page.

By files
/
     README.html
          . Minor change in wording.
     README.txt
          . Minor change in wording.

/src
     gen.tcl
          . Commands added.
          . Three error codes added.
          . Added namespace variables for database command configuration.
          . Several commands now support an @ designator for in/out variables. Existing
usage should not be affected by this change.
          . Decr now supports taking an integer value as a second argument, which makes it
more consistent with incr.
     pkgIndex.tcl
          . Updated version.
          
/test
     . Added tests for new commands.
     . Existing tests modified because test generator software changed.

/doc
     . Added about pages for @ designator, database command configuration, and
xxxdbglobal commands, in general.
     . Added pages for new commands.
     . Updated documentation for commands that gained support for @ designator.
